<!DOCTYPE html>
<html>
<head>
    <title>URL Shortener Test</title>
</head>
<body>

<h2>üîó URL Shortener</h2>

<input type="text" id="url" placeholder="https://example.com">
<button onclick="shorten()">Shorten</button>

<p id="result"></p>

<script>
    const BASE_URL = "https://url-shortner-93v4.onrender.com";

    async function shorten() {
        const originalUrl = document.getElementById("url").value;

        try {
            const response = await fetch(
  "https://url-shortner-93v4.onrender.com/api/url/shorten?originalUrl=" 
  + encodeURIComponent(originalUrl),
  { method: "POST" }
);


            const data = await res.json();

            document.getElementById("result").innerHTML =
                `<a href="${BASE_URL}/redirect/${data.shortUrl}" target="_blank">
                ${BASE_URL}/redirect/${data.shortUrl}</a>`;

        } catch {
            document.getElementById("result").innerText = "‚ùå Network Error";
        }
    }
</script>

</body>
</html>
