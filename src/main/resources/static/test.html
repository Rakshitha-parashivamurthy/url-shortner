<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>URL Shortener Test</title>
</head>
<body>

<h2>üîó URL Shortener</h2>

<input type="text" id="urlInput" placeholder="https://example.com">
<button onclick="shorten()">Shorten</button>

<p id="result"></p>

<script>
    const BASE_URL = "https://url-shortner-93v4.onrender.com";

    async function shorten() {
        const originalUrl = document.getElementById("urlInput").value;

        try {
            const response = await fetch(
                `${BASE_URL}/api/url/shorten?originalUrl=${encodeURIComponent(originalUrl)}`,
                { method: "POST" }
            );

            const data = await response.json();

            document.getElementById("result").innerHTML =
                `Short URL: <a href="${BASE_URL}/redirect/${data.shortUrl}" target="_blank">
                ${BASE_URL}/redirect/${data.shortUrl}</a>`;

        } catch (e) {
            document.getElementById("result").innerText = "‚ùå Network Error";
        }
    }
</script>

</body>
</html>
